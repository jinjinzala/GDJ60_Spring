<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    <mapper namespace="com.iu.s1.member.MemberDAO">
  <!--id는 사용하려는 DAO의 매소드명과 동일하게 작성하여야함 -->
  <!-- insert,delete,update 는 리턴값이 없어서 resultType을 쓰지앖음 -->
  
    <insert id="setAddMemberJoin" parameterType="MemberDTO">
 	 INSERT INTO MEMBER (ID,PW,MEMBERNAME,MEMBERPHONE,EMAIL)
 	 VALUES (#{id}, #{pw}, #{memberName}, #{memberPhone}, #{email} )
 	 
 <!-- paramete처리 = #{getter의 이름}-->
 </insert>
   <select id="getMemberList" resultType="MemberDTO" statementType="PREPARED">
  	SELECT ID , PW,MEMBERNAME,MEMBERPHONE,EMAIL
  	FROM MEMBER
  </select>
  
    <insert id="setAddProduct" parameterType="MemberDTO" > 
	INSERT INTO MEMBER 
	VALUES (#{id},#{pw},#{memberName},#{email},#{memberPhone})
  </insert>
  
  <insert id="SetMemberRoleAdd" parameterType="MemberDTO">
  INSERT INTO MEMBER_ROLE (ID,ROLENUM)
  VALUES (#{id},(SELECT ROLENUM FROM WHERE ROLENAME = 'MEMBER'))
  </insert>
  
  
  
  
  
   </mapper>
   
   


 

